Version 4
SHEET 1 1920 680
WIRE 80 -80 -16 -80
WIRE 240 -80 160 -80
WIRE 720 16 464 16
WIRE 992 16 784 16
WIRE 112 80 112 32
WIRE 80 96 0 96
WIRE -96 112 -224 112
WIRE -16 112 -16 -80
WIRE 176 112 144 112
WIRE -480 128 -704 128
WIRE -16 128 -16 112
WIRE 80 128 -16 128
WIRE -304 144 -416 144
WIRE -224 144 -224 112
WIRE -224 144 -304 144
WIRE 176 144 176 112
WIRE 240 144 240 -80
WIRE 240 144 176 144
WIRE 304 144 240 144
WIRE 464 144 464 16
WIRE 464 144 384 144
WIRE 512 144 464 144
WIRE 640 144 592 144
WIRE 816 144 640 144
WIRE -704 160 -704 128
WIRE -480 160 -544 160
WIRE 992 160 992 16
WIRE 992 160 880 160
WIRE 1184 160 992 160
WIRE 816 176 752 176
WIRE 0 192 0 96
WIRE 112 192 112 144
WIRE 640 192 640 144
WIRE -544 208 -544 160
WIRE -304 208 -304 144
WIRE -304 208 -544 208
WIRE 240 240 240 144
WIRE 1184 256 1184 160
WIRE 752 272 752 176
WIRE 992 272 992 160
WIRE 992 272 752 272
WIRE -704 288 -704 240
WIRE 0 304 0 272
WIRE 640 336 640 256
WIRE 240 416 240 320
WIRE 0 432 0 384
WIRE 1184 432 1184 336
FLAG 112 192 +VCC
FLAG -272 -32 0
FLAG -272 -112 +VCC
FLAG -704 288 0
FLAG -144 -32 0
FLAG -144 -112 -VEE
FLAG 112 32 -VEE
FLAG 0 432 0
FLAG -448 176 +VCC
FLAG -448 112 -VEE
FLAG 0 272 V+
FLAG 640 336 0
FLAG 1184 432 0
FLAG 848 192 +VCC
FLAG 848 128 -VEE
FLAG 240 416 0
FLAG 1184 160 out
SYMBOL voltage -272 -128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL voltage -704 144 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR Value2 AC 1.6
SYMATTR SpiceLine Rser=0
SYMATTR Value PWL TIME_SCALE_FACTOR=1 VALUE_SCALE_FACTOR=1 REPEAT FOREVER (file=senialDAC_0a3.3V_escalon_rapido.txt) ENDREPEAT
SYMATTR InstName V3
SYMBOL res 0 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {r1}
SYMBOL res 176 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {r2}
SYMBOL voltage -144 -16 R180
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 10
SYMBOL voltage 0 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V_DAC2
SYMATTR Value {voff}
SYMBOL Opamps\\LT1001 -448 208 M180
SYMATTR InstName U2
SYMBOL Opamps\\opamp2 112 176 M180
SYMATTR InstName U4
SYMATTR Value LM324
SYMBOL Opamps\\opamp2 848 224 M180
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL res 400 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 11.25k
SYMBOL res 608 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 11.25
SYMBOL cap 656 256 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap 784 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 200n
SYMBOL res 1168 240 R0
SYMATTR InstName RL1
SYMATTR Value 1k
SYMBOL res 224 224 R0
SYMATTR InstName RL2
SYMATTR Value 100k
SYMBOL res -16 176 R0
SYMATTR InstName R3
SYMATTR Value {r1}
TEXT -352 344 Left 2 !.tran 1
TEXT 152 400 Left 2 ;V2 = (Vmax(V3)*Av)/(2*(1+Av)) -> siendo Vmax(V3) = 2*Vi\nAv = R2/R1
TEXT -696 440 Left 2 !.param vi=1.6 r1=1k r2=3.3k av=r2/r1  voff=vi*av/(1+av)
TEXT -696 472 Left 2 !.lib LM324.txt
TEXT 432 -96 Left 2 !;ac dec 200 1 100k
TEXT 1280 56 Left 2 !.four 1kHz V(out)
